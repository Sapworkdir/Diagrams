# Diagrams #CashBack #PartnerProgram
 В приложенных файлах схема бизнес-процесса и структура базы данных для расчета вознаграждения по программе лояльности..
Предполагается, что рачет производиться на основе данных транзакционной системы в конце периода, по каждой транзакции. 
Правила расчета определяются на основе присвоения счетов группам. Правила расчета в виде скрипта хранятся в отдельной 
таблице Rules и могут изменятся от периода к периоду. На основе данных расчет генерируется платежный файл. 
По результатам оплаты каждая оплаченная позиция отмечается путем записи в отдельное поле кода транзакции оплаты.
Начисления аозможны в разных валютах, для недежных вознаграждений(бонусов) можно использовать фиктивные коды валют.
